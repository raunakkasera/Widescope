<%= form_for(@budgetpost, html: { multipart: true }) do |f| %>
  <%= render 'shared/error_messages', object: f.object %>
  <h5 style="padding:1ex 0;">Deficit: 
<span id="total-balance-0-total" style="font-weight: lighter; font-family: mono; color: red; display: inline-block;">$&nbsp;6,340,192&nbsp;Million</span> 
<span id="total-balance-0" style="font-weight: lighter; font-family: mono; color: green;display: inline-block;">(% change)</span></h5>
<h5 style="position:relative;background:#f9f9f9;padding:5px 0px;margin:0;border-bottom:1px solid #ddd;">Revenue<br>&nbsp;<span id="total_revenue_0" style="display:none;">$ 40,336,422,000,000.00</span><span id="total_revenue_display_0" style="position:absolute;top: 25px; bottom:5px;left:0px;font-family:mono;font-size:0.8em;">$&nbsp;40,336,422&nbsp;Million</span></h5>
  <div class="range-wrapper" style="padding: 10px 0px">
<text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif; width: 30%; float:left">Estate and gift taxes</text><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" src="/images/annotation-icon.png" style="float: left;"></image><input style="width: 65%; float: right" type="range" min="0" max="2000" id="myRange"/><span class="text" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;"></span>
</div>
<div class="range-wrapper">
<text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif; width: 30%; float:left">Custom duties</text> <image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" src="/images/annotation-icon.png" style="float: left;"> <input style="width: 65%; float: right" type="range" min="0" max="2000" id="mySecondRange" transform="translate(232.5,25)"/>
  <div class="text" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;"></div>
</div>
<h5 style="position:relative;background:#f9f9f9;padding:5px 0px;margin:0;border-bottom:1px solid #ddd;">Expenses<br>&nbsp;<span id="total_expense_0" style="display:none;">$ -46,676,614,000,000.00</span><span id="total_expense_display_0" style="position:absolute;bottom:5px; top:25px;left:0px;font-family:mono;font-size:0.8em;">$&nbsp;-46,676,614&nbsp;Million</span></h5>
<div class="field">
    <%= f.text_area :content, placeholder: "Compose new budget proposal..." %>
  </div>
  <%= f.submit "Propose", class: "btn btn-primary" %>
  <span class="picture">
    <%= f.file_field :picture, accept: 'image/jpeg,image/gif,image/png' %>
  </span>
<% end %>

<script type="text/javascript">
  $('#budgetpost_picture').bind('change', function() {
    var size_in_megabytes = this.files[0].size/1024/1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
  });
</script>

<script type="text/javascript">
$(document).ready(function(){
    updateRangeValue($('input[type=range]'));
    $('input[type=range]').on('input change',function(){
        var input = $(this);
        updateRangeValue(input);
    });    
});
function getRangeGradient(color1,color2,value,maximum){
    var gradient = "linear-gradient(to right, ";
    var breakPoint = (value/maximum)*100;
    
    var attrValue = gradient + color1 + " 0%, " + color1 + " " + breakPoint + "%, " + color2 + " " + breakPoint + "%, " + color2 + " 100%)";
    return attrValue;
}
function updateRangeValue(input){
    var selectedColor = "#a6d96a";
    var nonSelectedColor = "#fff"; /*"#ddd";*/

    var value = input.val();
    var maximum = input.attr('max');
    var minimum = input.attr('min'); 
    var inputWidth = input.width();
    var background = getRangeGradient(selectedColor, nonSelectedColor, value, maximum);
    
    var offLeft = Math.floor((value / maximum) * inputWidth - (((value / maximum) * inputWidth - inputWidth/2) / 100));    
    var offLeftAbs = value == maximum ? input.offset().left - 6 + offLeft : (value == minimum ? input.offset().left + 5 + offLeft : input.offset().left + offLeft);
    input.next('.text').css({'left': (offLeftAbs - 75) +'px', 'z-index': 1});
    input.next('.text').html(value);
    input.css('background', background); 
}
</script>




<script type="text/javascript">
  var states = eval(["FD"]),
      years = eval([20142023]),
      populations = eval([307006550]),
      years = eval([20142023]),
      proposal_data = {
        revenue: eval({"Estate and gift taxes":[197584000.0],"Customs duties":[449198000.0],"Excise taxes":[1079960000.0],"Miscellaneous receipts":[1073370000.0],"Corporation income taxes":[4835610000.0],"Social insurance and retirement receipts":[12810800000.0],"Individual income taxes":[19889900000.0]}),
        expense: eval({"Social security":[11062300000.0],"National defense":[6417010000.0],"Medicare":[7937520000.0],"Net interest":[5216290000.0],"Health":[5694020000.0],"Income security":[5061410000.0],"Veterans benefits and services":[956732000.0],"Education, training, employment, and social services":[1931970000.0],"Transportation":[1542840000.0],"Administration of justice":[996863000.0],"International affairs":[932619000.0],"Natural resources and environment":[676175000.0],"General science, space, and technology":[498034000.0],"General government":[418612000.0],"Agriculture":[511857000.0],"Community and regional development":[331915000.0],"Allowances":[-977443000.0],"Energy":[83677600.0],"Commerce and housing credit":[-31897400.0],"Undistributed offsetting receipts":[-2583890000.0]})
      },
      data = {
        revenue: eval({"Estate and gift taxes":[197584000.0],"Customs duties":[449198000.0],"Excise taxes":[1079960000.0],"Miscellaneous receipts":[1073370000.0],"Corporation income taxes":[4835610000.0],"Social insurance and retirement receipts":[12810800000.0],"Individual income taxes":[19889900000.0]}),
        expense: eval({"Social security":[11062300000.0],"National defense":[6417010000.0],"Medicare":[7937520000.0],"Net interest":[5216290000.0],"Health":[5694020000.0],"Income security":[5061410000.0],"Veterans benefits and services":[956732000.0],"Education, training, employment, and social services":[1931970000.0],"Transportation":[1542840000.0],"Administration of justice":[996863000.0],"International affairs":[932619000.0],"Natural resources and environment":[676175000.0],"General science, space, and technology":[498034000.0],"General government":[418612000.0],"Agriculture":[511857000.0],"Community and regional development":[331915000.0],"Allowances":[-977443000.0],"Energy":[83677600.0],"Commerce and housing credit":[-31897400.0],"Undistributed offsetting receipts":[-2583890000.0]})
      },
      shared_cats = {
        revenue: eval(null),
        expense: eval(null)
      },
      base_balance = (
        40336422000.0
        -
        46676614200.0
      ) * 1000,
      totals_data = {
        expense: new Array(states.length),
        revenue: new Array(states.length)
      },
      annotations_data = {
        expense: eval([{"category":"Social security","created_at":"2015-05-15T21:00:00Z","description":"The outlays for Social Security will total 5.1 percent of GDP over the next few years and reach 5.5 percent of GDP by 2023.","display_year":"2014-2023","dollarAmount":11062300000.0,"id":2718,"isexpense":true,"isshown":true,"json":null,"originalAmount":11062300000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=23","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"expense"},{"category":"National defense","created_at":"2015-05-15T21:00:00Z","description":"Funding for war-related activities is assumed to grow with inflation from the amount appropriated in 2013.","display_year":"2014-2023","dollarAmount":6417010000.0,"id":2722,"isexpense":true,"isshown":true,"json":null,"originalAmount":6417010000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=24","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"expense"},{"category":"Net Interest","created_at":"2015-05-15T21:00:00Z","description":"The government's net interest spending will double from 1.4 percent in 2014 to 3.2 percent in 2023 due to increase in debt as well as anticipated rise in interest rates as the economy strengthens.","display_year":"2014-2023","dollarAmount":5216290000.0,"id":2723,"isexpense":true,"isshown":true,"json":null,"originalAmount":5216290000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=4","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"expense"},{"category":"Health","created_at":"2015-05-15T21:00:00Z","description":"Under provisions of the Affordable Care Act, federal outlays for Medicaid will rise as a share of GDP from 1.8 percent in 2014 to 2.1 percent in 2023. Additionally, subsidies to help people purchase health insurance through exchanges is projected to increase from 0.1 percent of GDP in 2014 to 0.5 percent in 2023. The spending on all major healthcare programs will soon exceed that on Social Security and reach 6.2 percent of GDP by 2023.","display_year":"2014-2023","dollarAmount":5694020000.0,"id":2719,"isexpense":true,"isshown":true,"json":null,"originalAmount":5694020000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=23","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"expense"},{"category":"Veterans benefits and services","created_at":"2015-05-15T21:00:00Z","description":"Baseline projection increased by 16 percent over previous ten year baseline due to substantial recent growth in average benefit payments (increase of 8 percent in 2012) and number of people added to the disability compensation rolls (increase of 4 percent in 2012).","display_year":"2014-2023","dollarAmount":956732000.0,"id":2721,"isexpense":true,"isshown":true,"json":null,"originalAmount":956732000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=57","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"expense"},{"category":"Education, training, employment, and social services","created_at":"2015-05-15T21:00:00Z","description":"The Troubled Asset Relief Program (TARP) that has primarily provided mortgage assistance is projected to cost $22 billion over its lifetime.","display_year":"2014-2023","dollarAmount":3723550000.0,"id":2720,"isexpense":true,"isshown":true,"json":null,"originalAmount":3723550000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=15","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"expense"},{"category":"Transportation","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":1542840000.0,"id":2759,"isexpense":true,"isshown":true,"json":null,"originalAmount":1542840000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"Administration of justice","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":996863000.0,"id":2760,"isexpense":true,"isshown":true,"json":null,"originalAmount":996863000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"International affairs","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":932619000.0,"id":2761,"isexpense":true,"isshown":true,"json":null,"originalAmount":932619000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"Natural resources and environment","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":676175000.0,"id":2762,"isexpense":true,"isshown":true,"json":null,"originalAmount":676175000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"General science, space, and technology","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":498034000.0,"id":2763,"isexpense":true,"isshown":true,"json":null,"originalAmount":498034000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"General government","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":418612000.0,"id":2764,"isexpense":true,"isshown":true,"json":null,"originalAmount":418612000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"Agriculture","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":511857000.0,"id":2765,"isexpense":true,"isshown":true,"json":null,"originalAmount":511857000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"Community and regional development","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":331915000.0,"id":2766,"isexpense":true,"isshown":true,"json":null,"originalAmount":331915000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"Allowances","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":-977443000.0,"id":2769,"isexpense":true,"isshown":true,"json":null,"originalAmount":-977443000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"Energy","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":83677600.0,"id":2767,"isexpense":true,"isshown":true,"json":null,"originalAmount":83677600.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"},{"category":"Commerce and housing credit","created_at":"2013-05-17T23:35:43Z","description":"Due to the automatic spending reductions put in place by the Budget Control Act, discretionary spending is projected to be $1.5 trillion less than the inflation adjusted appropriation from 2013.","display_year":"2014-2023","dollarAmount":-31897400.0,"id":2768,"isexpense":true,"isshown":true,"json":null,"originalAmount":-31897400.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=25","statecode":"FD","summary":"","title":"Widescope baseline 2013","updated_at":"2013-05-17T23:35:43Z","userId":0,"year":20142023,"type":"expense"}]),
        revenue: eval([{"category":"Estate and gift taxes","created_at":"2015-05-15T21:00:00Z","description":"The American Taxpayer Relief Act, enacted in Jan 2013, extends the estate and gift tax rules in effect in 2012, although with a higher top tax rate of 40 percent.","display_year":"2014-2023","dollarAmount":197584000.0,"id":2717,"isexpense":false,"isshown":true,"json":null,"originalAmount":197584000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=12","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"revenue"},{"category":"Miscellaneous receipts","created_at":"2015-05-15T21:00:00Z","description":"A short term increase in earnings is projected as the Federal Reserve increases its holdings of Treasury and mortgage-backed securities. Beyond 2015, remittances are projected to decline to zero between 2018-2020 as the economy grows to near its potential, which would generate capital losses as interest rates rise.","display_year":"2014-2023","dollarAmount":1073370000.0,"id":2716,"isexpense":false,"isshown":true,"json":null,"originalAmount":1073370000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=22","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"revenue"},{"category":"Corporation income taxes","created_at":"2015-05-15T21:00:00Z","description":"Receipts from corporate income tax receipts are set to rise sharply in the short term due to the scheduled expiration of enhanced depreciation deductions allowed for certain business investments and changes in other tax provisions. In the longer term, there will be a drop in expected domestic economic profits relative to GDP that will drive down the receipts from 2.6 percent of GDP in 2017 to 2 percent around 2023. ","display_year":"2014-2023","dollarAmount":4835610000.0,"id":2714,"isexpense":false,"isshown":true,"json":null,"originalAmount":4835610000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=21","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"revenue"},{"category":"Social insurance and retirement receipts","created_at":"2015-05-15T21:00:00Z","description":"Due to the expiration of the payroll tax cuts instituted in 2011-12, the receipt from Social Insurance Tax will increase slightly in the short term and stabilize at 6 percent of GDP thereafter.","display_year":"2014-2023","dollarAmount":12810800000.0,"id":2715,"isexpense":false,"isshown":true,"json":null,"originalAmount":12810800000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=21","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"revenue"},{"category":"Individual income taxes","created_at":"2015-05-15T21:00:00Z","description":"Individual income tax receipts are projected to rise from $1.3 trillion this year to $2.5 trillion in 2023, an increase of almost 2 percent relative to the GDP. This is a result of more projected income in higher tax brackets due to economic expansion and recent changes in tax provisions by the American Taxpayer Relief Act.","display_year":"2014-2023","dollarAmount":19889900000.0,"id":2713,"isexpense":false,"isshown":true,"json":null,"originalAmount":19889900000.0,"reference":"http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=20","statecode":"FD","summary":null,"title":"Widescope baseline 2013","updated_at":"2015-05-15T21:00:00Z","userId":0,"year":20142023,"type":"revenue"}]),
      },
      calculate_balance = function(e) {
        var expense = parseFloat($('#total_expense_0').text().match(new RegExp('[0-9.]', 'g')).join(''));
        var revenue = parseFloat($('#total_revenue_0').text().match(new RegExp('[0-9.]', 'g')).join(''));
        var total_balance = revenue - expense;
        //var relative_balance = total_balance - base_balance;
        var relative_balance = ((total_balance / base_balance) - 1) * 100;
        if (!relative_balance) {
          $('#total-balance-0').text('no change');
        } else {
          //$('#total-balance-0').html('$&nbsp;' + (relative_balance > 0 ? '+' : '') + $.formatNumber(Math.round(relative_balance / 1000000)/* * 1000000*/, {format:"#,###", local:"us"}) + '&nbsp;Million');
          $('#total-balance-0').html((relative_balance > 0 ? '+' : '') + $.formatNumber(relative_balance, {format:"##.#", local:"us"}) + '% change');
        }
        if (relative_balance < 0) {
          $('#total-balance-0').css('color', 'green');
        } else if (relative_balance > 0) {
          $('#total-balance-0').css('color', 'red');
        } else {
          $('#total-balance-0').css('color', '#999');
        }
        $('#total-balance-0-total').html('$&nbsp;' + (total_balance > 0 ? '+' : '') + $.formatNumber(Math.round(Math.abs(total_balance) / 1000000)/* * 1000000*/, {format:"#,###", local:"us"}) + '&nbsp;Million');
        if (total_balance < 0) {
          $('#total-balance-0-total').css('color', 'red');
        } else if (total_balance > 0) {
          $('#total-balance-0-total').css('color', 'green');
        } else {
          $('#total-balance-0-total').css('color', '#999');
        }
        $('#total_expense_display_0').html('$&nbsp;-' + $.formatNumber(expense / 1000000, {format:"#,###", local:"us"}) + '&nbsp;Million');
        $('#total_revenue_display_0').html('$&nbsp;' + $.formatNumber(revenue / 1000000, {format:"#,###", local:"us"}) + '&nbsp;Million');
      },
      enable_save_button = function(event) {
        var button = $('#edit-button')
        if (button.button('option', 'disabled')) {
          $('#proposal-form-container').show();
        }
        $('#author-credit').css('color', 'black');
        $('#author-name').text('you');
        $('#votebudgets').hide();
        $('#proposebudgets').show();
        $('#reset-option').show();
        button.button({disabled: false, label: 'Save changes'});
        $('.login-action').addClass('unsaved');
      };
   $(document).bind('total_changed', calculate_balance);
  $(document).ready(calculate_balance);
</script>

<div id="walkthrough-balance" class="walkthrough">Your balance is your revenue minus your expenses. See if you can balance the budget!</div>
<h5 style="padding:1ex 0;">Deficit: 
<span id="total-balance-0-total" style="font-weight: lighter; font-family: mono; color: red; white-space: nowrap;">$&nbsp;6,340,192&nbsp;Million</span> 
<span id="total-balance-0" style="font-weight: lighter; font-family: mono; color: green;white-space:nowrap;">(% change)</span></h5>
<table><tr>
<div id="revenue-bars" class="vis" style="border-top:1px solid #ddd;margin-top:5px;">
  <div id="annotation-popup" class="annotation-popup" style="display: none;"><b>Excise taxes:<br></b>Taxes levied when purchases are made on a specific good, such as gasoline. Excise taxes are often included in the price of the product. There are also excise taxes on activities, such as on wagering or on highway usage by trucks. Excise Tax has several general excise tax programs. One of the major components of the excise program is motor fuel.</div>
  <!-- <div id="walkthrough-revenue" class="walkthrough">Click on a category to change.</div> -->
  <h5 style="position:relative;background:#f9f9f9;padding:5px 0px;margin:0;border-bottom:1px solid #ddd;">Revenue<br>&nbsp;<span id="total_revenue_0" style="display:none;">$ 40,336,422,000,000.00</span><span id="total_revenue_display_0" style="position:absolute;bottom:5px;left:0px;font-family:mono;font-size:0.8em;">$&nbsp;40,336,422&nbsp;Million</span></h5>
  <div id="revenue-bars">
  <script type="text/javascript">
    var revenue_bars_config = {
          states: states,
          years: years,
          populations: populations,
          data: data.revenue,
          proposal: proposal_data.revenue,
          shared_cats: shared_cats.revenue,
          totals: totals_data.revenue,
          annotations: annotations_data.revenue,
          add_annotation_url: '/budgets/add_annotation',
          shared_budget_id: undefined,
          remove_annotation_url: '/budgets/remove_annotation',
          width: 155,
          bar_height: 20,
          align: 'left',
          disabled: false,
          total_id: 'total_revenue_0',
          total_prefix: 'undefined',
          ascending: true,
          scale: 1000,
          max_value: 19889900000.0,
          title_length: undefined,
          type: 'revenue',
          base_color: 'rgb(166, 217, 106)',
          more_color: 'rgba(166, 217, 106, 0.5)',
          less_color: 'rgba(255, 110, 97, 0.5)',
          descriptions: {"National defense":"The bulk of the spending in this category reflects the underlying costs of the Department of Defense and other security-related activities. The total also includes the cost of supporting operations in Iraq and Afghanistan.","Social security":"Provided retirement benefits averaging $1,175 per month to 34.6 million retired workers in December 2010. Social Security also provided benefits to 2.9 million spouses and children of retired workers, 6.4 million surviving children and spouses of deceased workers, and 10.2 million disabled workers and their eligible dependents in December 2010.","Health":"Provides fund to programs that protect the health of all Americans and providing essential human services. The programs include biomedical research, training of primary care providers, Medicaid, and the Children\u2019s Health Insurance Program (CHIP).","Education, training, employment, and social services":"Combines three subfunctions of the education, training, employment, and social services function: elementary, secondary, and vocational education; higher education; and research and general educational aids.","Income security":"Provides benefits to recipients with limited income and assets; those programs include unemployment compensation, Supplemental Security Income, and the Supplemental Nutrition Assistance Program (SNAP, formerly known as Food Stamps.)","Medicare":"Federal health insurance program for elderly and disabled Americans, providing coverage for acute and post-acute care.","Net interest":"The regular interest payments on the money that the federal government has borrowed to finance past deficits.","Veterans benefits and services":"Veterans receive an array of benefits and services for their dedicated service defending the United States. Fund goes to programs that provides medical care for veterans and combats veteran homelessness.","Transportation":"Supports well-functioning transportation system by road, transit, aviation, rail or waterway. The transportation system is built to move people and goods safely, facilitate commerce, attract and retain businesses, and support jobs.","International affairs":"Advances the national security interests of the United States through global engagement, partnership, and the promotion of universal values. By investing in civilian diplomatic and development power alongside defense, the fund is used to take an integrated approach to solving global problems and support the mutually reinforcing elements of the President\u2019s national security strategy.","Administration of justice":"Enforces the law and defending the interests of the United States; ensuring public safety against foreign and domestic threats; providing Federal leadership in preventing and controlling crime; punishing those guilty of unlawful behavior; and ensuring fair and impartial administration of justice for all Americans.","Natural resources and environment":"Protects human health and safeguard the natural environment. The fund is used to develop programs that reduce greenhouse gases and improve fuel economy for cars and trucks, promote chemical safety and integrate sustainable community development with environmental remediation activities.","General science, space, and technology":"Supports the full breadth of science and technology research. The fund goes into programs that help drive future economic growth and global competitiveness, improve the Nation's aviation and space capabilities, and strengthen our competitive edge in human spaceflight and scientific research.","General government":"Funds the central management and policy responsibilities of both the legislative and executive branches of the federal government. Among the agencies it funds are the General Services Administration and the Internal Revenue Service.","Agriculture":"Focuses on further developing alternative markets for agricultural products and activities, providing financing needed to help expand job opportunities and improve housing, utilities, and infrastructure in rural America. The fund is also used to enhance food safety, support international agricultural and economic development, and protect America\u2019s public and private lands.","Community and regional development":"Covers federal programs that promote the economic viability of communities, encourage rural development, and assist in the nation's preparation for and response to natural and man-made disasters. The function includes spending for flood insurance, homeland security grants for state and local governments' first responders, the Community Development Block Grant program, disaster relief, credit assistance to help develop rural communities, and federal support for certain programs to assist Native Americans.","Energy":"Advances the national, economic, and energy security of the United States; promoting scientific and technological innovation in support of that mission; and ensuring the environmental cleanup of the national nuclear weapons complex. It facilitates some of the President\u2019s highest priorities: clean energy and research and development (R&D), which are critical to the Nation\u2019s economic competitiveness and national security.","Excise taxes":"Taxes levied when purchases are made on a specific good, such as gasoline. Excise taxes are often included in the price of the product. There are also excise taxes on activities, such as on wagering or on highway usage by trucks. Excise Tax has several general excise tax programs. One of the major components of the excise program is motor fuel.","Estate and gift taxes":"Taxes levied on large transfers of wealth between individuals. Gift taxes are imposed on transfers made during an individual's lifetime, and estate taxes are imposed on transfers made at the time of death. Although gift taxes and estate taxes are paid separately, they are a unified tax in the sense that a single graduated rate schedule applies to the cumulative total of taxable transfers made through gifts and estates.","Customs duties":"Taxes levied on imports (and, sometimes, on exports) by the customs authorities of the country to raise state revenue, and/or to protect domestic industries from more efficient or predatory competitors from abroad. Customs duty is based generally on the value of goods or upon the weight, dimensions, or some other criteria of the item (such as the size of the engine, in case of automobiles).","Misc. governmental receipts":"Other sources of federal revenues.","Corporation income taxes":"Taxes levied on corporations' profits. Because corporations are legal entities separate from their owners, they may be taxed as if they were persons. A corporate tax, then, is the equivalent of the income tax for natural persons.","Social insurance taxes and contributions":"Taxes levied equally on employers and employees, used to pay for Social Security programs, the comprehensive federal program of benefits providing workers and their dependents with retirement income, disability income, and other payments.","Individual income taxes":"Taxes levied on the worldwide income of U.S. citizens and resident aliens and on certain types of U.S. source income of nonresidents. For a nonitemizer, \u201ctax table income\u201d is adjusted gross income less $3,000 for each personal exemption and the standard deduction. If a taxpayer itemizes, tax table income is adjusted gross income minus total itemized deductions and personal exemptions. In addition, individuals may also be subject to the alternative minimum tax."}
        },
        total_revenue_0_revenue_bars = new SliderChart(revenue_bars_config);

    //EXTRA
    revenue_bars.evenColor = '#0a0';
    revenue_bars.oddColor = '#0a0';
    //EXTRA
    total_revenue_0_revenue_bars.render();
    $('#total_revenue_0').text('$ ' + $.formatNumber(Math.round((pv.sum(pv.values(total_revenue_0_revenue_bars.proposal).map(function(d) { return d[0]; })) * total_revenue_0_revenue_bars.totals[0] * 1000) / 1000000) * 1000000, {format:"#,###.00", locale:"us"}));

    $(document).bind('reset_category', function(event, category, state) {
      total_revenue_0_revenue_bars.resetCategory(category, state);
    });


    /*
    var updateRevenueVis = function() {
      init_data(revenue_bars_config.states);

      revenue_bars_config.data = data.revenue;
      revenue_bars_config.proposal = proposal_data.revenue;

      $('#revenue-bars').find('span').remove();
      revenue_bars = new SliderChart(revenue_bars_config);
      revenue_bars.oddColor = '#0a0';
      revenue_bars.evenColor = '#0a0';
      revenue_bars.render();
      $('#total_revenue_0').text('$ ' + $.formatNumber(pv.sum(pv.values(revenue_bars.proposal).map(function(d) { return d[0]; })) * revenue_bars.totals[0], {format:"#,###.00", locale:"us"}));
      $(document).find('span').last().appendTo($('#revenue-bars'));
    };

    $(document).bind('select_state', function(e, state_code) {
      revenue_bars_config.states = $.grep(revenue_bars_config.states, function(v) { return v != revenue_bars_config.states[0]; });
      revenue_bars_config.states = $.grep(revenue_bars_config.states, function(v) { return v != state_code; });
      revenue_bars_config.states.unshift(state_code);
      updateRevenueVis();
    })

    var revenueAddRemoveHandler = function(e, state_code) {
      revenue_bars_config.states = $.grep(revenue_bars_config.states, function(v) { return v != state_code; });
      if (e.type == 'add_state') {
        revenue_bars_config.states.push(state_code);
      }
      updateRevenueVis();
    };
    $(document).bind('add_state', revenueAddRemoveHandler);
    $(document).bind('remove_state', revenueAddRemoveHandler);
    
  */
  </script>
  <span style="display: inline-block;"><svg font-size="10px" font-family="sans-serif" fill="none" stroke="none" stroke-width="1.5" width="497.5" height="165"><rect pointer-events="all" x="232.5" y="25" width="155" height="140" fill-opacity="0"></rect><g transform="translate(232.5,25)"><g><rect width="1.0265015577420367" height="18" fill="rgb(166,217,106)"></rect></g><g></g><g><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Estate and gift taxes</text></g><g><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,20)"><rect width="2.333703370387316" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,20)"></g><g transform="translate(0,20)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Customs duties</text></g><g transform="translate(0,20)"></g><g transform="translate(0,40)"><rect width="5.576443320479238" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,40)"></g><g transform="translate(0,40)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Miscellaneous receipts</text></g><g transform="translate(0,40)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,60)"><rect width="5.610680127434862" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,60)"></g><g transform="translate(0,60)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Excise taxes</text></g><g transform="translate(0,60)"></g><g transform="translate(0,80)"><rect width="25.122283168844486" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,80)"></g><g transform="translate(0,80)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Corporation income taxes</text></g><g transform="translate(0,80)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,100)"><rect width="66.55552147907565" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,100)"></g><g transform="translate(0,100)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Social insurance and retiremen...</text></g><g transform="translate(0,100)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,120)"><rect width="103.33333333333333" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,120)"></g><g transform="translate(0,120)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Individual income taxes</text></g><g transform="translate(0,120)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g></g><g transform="translate(232.5,25)"><g><rect cursor="pointer" width="1.0265015577420367" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,20)"><rect cursor="pointer" width="2.333703370387316" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,40)"><rect cursor="pointer" width="5.576443320479238" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,60)"><rect cursor="pointer" width="5.610680127434862" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,80)"><rect cursor="pointer" width="25.122283168844486" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,100)"><rect cursor="pointer" width="66.55552147907565" height="18" fill="rgb(166,217,106)"></rect></g><g transform="translate(0,120)"><rect cursor="pointer" width="103.33333333333333" height="18" fill="rgb(166,217,106)"></rect></g></g><g transform="translate(232.5,25)"><g><rect cursor="pointer" x="-13.973498442257963" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g><rect cursor="pointer" x="1.0265015577420367" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="2.0265015577420367" cy="9" r="4"></circle></g><g><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(3.0265015577420367,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$197,584m</text></g><g transform="translate(0,20)"><rect cursor="pointer" x="-12.666296629612685" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,20)"><rect cursor="pointer" x="2.333703370387316" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,20)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="3.333703370387316" cy="9" r="4"></circle></g><g transform="translate(0,20)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(4.333703370387315,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$449,198m</text></g><g transform="translate(0,40)"><rect cursor="pointer" x="-9.423556679520761" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,40)"><rect cursor="pointer" x="5.576443320479238" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,40)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="6.576443320479238" cy="9" r="4"></circle></g><g transform="translate(0,40)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(7.576443320479238,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$1,073,370m</text></g><g transform="translate(0,60)"><rect cursor="pointer" x="-9.389319872565139" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,60)"><rect cursor="pointer" x="5.610680127434862" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,60)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="6.610680127434862" cy="9" r="4"></circle></g><g transform="translate(0,60)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(7.610680127434862,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$1,079,960m</text></g><g transform="translate(0,80)"><rect cursor="pointer" x="10.122283168844486" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,80)"><rect cursor="pointer" x="25.122283168844486" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,80)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="26.122283168844486" cy="9" r="4"></circle></g><g transform="translate(0,80)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(27.122283168844486,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$4,835,610m</text></g><g transform="translate(0,100)"><rect cursor="pointer" x="51.55552147907565" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,100)"><rect cursor="pointer" x="66.55552147907565" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,100)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="67.55552147907565" cy="9" r="4"></circle></g><g transform="translate(0,100)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(68.55552147907565,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$12,810,800m</text></g><g transform="translate(0,120)"><rect cursor="pointer" x="88.33333333333333" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,120)"><rect cursor="pointer" x="103.33333333333333" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,120)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="104.33333333333333" cy="9" r="4"></circle></g><g transform="translate(0,120)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(105.33333333333333,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$19,889,900m</text></g></g><g transform="translate(232.5,25)"><line shape-rendering="crispEdges" x1="0" y1="0" x2="0" y2="140" stroke="rgb(0,0,0)" stroke-width="1"></line><line shape-rendering="crispEdges" x1="51.952666093511446" y1="0" x2="51.952666093511446" y2="140" stroke="rgb(255,255,255)" stroke-opacity="0.3" stroke-width="1"></line><line shape-rendering="crispEdges" x1="103.90533218702289" y1="0" x2="103.90533218702289" y2="140" stroke="rgb(255,255,255)" stroke-opacity="0.3" stroke-width="1"></line></g><g transform="translate(232.5,25)"><line shape-rendering="crispEdges" x1="0" y1="-8" x2="0" y2="-3" stroke="rgb(0,0,0)" stroke-width="1"></line><line shape-rendering="crispEdges" x1="51.952666093511446" y1="-8" x2="51.952666093511446" y2="-3" stroke="rgb(0,0,0)" stroke-width="1"></line><line shape-rendering="crispEdges" x1="103.90533218702289" y1="-8" x2="103.90533218702289" y2="-3" stroke="rgb(0,0,0)" stroke-width="1"></line></g><g transform="translate(232.5,25)"><text pointer-events="none" y="-3" transform="translate(0,-8)" fill="rgb(0,0,0)" text-anchor="middle" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 10px; line-height: normal; font-family: sans-serif;">$0b</text><text pointer-events="none" y="-3" transform="translate(51.952666093511446,-8)" fill="rgb(0,0,0)" text-anchor="middle" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 10px; line-height: normal; font-family: sans-serif;">$10t</text><text pointer-events="none" y="-3" transform="translate(103.90533218702289,-8)" fill="rgb(0,0,0)" text-anchor="middle" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 10px; line-height: normal; font-family: sans-serif;">$20t</text></g><rect pointer-events="stroke" x="232.5" y="25" width="155" height="140" stroke-opacity="0"></rect></svg></span>
</div>

</div>
</tr>
<tr>

<div class="vis" style="border-top:1px solid #ddd;margin-top:8px;">
  <!-- <div id="walkthrough-expense" class="walkthrough">Click on a spending category to change.</div>
  <div id="walkthrough-expense2" class="walkthrough">Alright. Let's make another change to expenses by clicking below again.</div> -->
  <h5 style="position:relative;background:#f9f9f9;padding:5px 0px;margin:0;border-bottom:1px solid #ddd;">Expenses<br>&nbsp;<span id="total_expense_0" style="display:none;">$ -46,676,614,000,000.00</span><span id="total_expense_display_0" style="position:absolute;bottom:5px;left:0px;font-family:mono;font-size:0.8em;">$&nbsp;-46,676,614&nbsp;Million</span></h5>
  <div id="expense-bars">
  <script type="text/javascript">
    var expense_bars_config = {
          states: states,
          years: years,
          populations: populations,
          data: data.expense,
          proposal: proposal_data.expense,
          shared_cats: shared_cats.expense,
          totals: totals_data.expense,
          annotations: annotations_data.expense,
          add_annotation_url: '/budgets/add_annotation',
          shared_budget_id: undefined,
          remove_annotation_url: '/budgets/remove_annotation',
          width: 155,
          bar_height: 20,
          align: 'left',
          disabled: false,
          total_id: 'total_expense_0',
          total_prefix: '$ -',
          ascending: false,
          scale: 1000,
          max_value: 19889900000.0,
          title_length: undefined,
          type: 'expense',
          base_color: 'rgb(255, 110, 97)',
          more_color: 'rgba(255, 110, 97, 0.5)',
          less_color: 'rgba(166, 217, 106, 0.5)',
          descriptions: {"National defense":"The bulk of the spending in this category reflects the underlying costs of the Department of Defense and other security-related activities. The total also includes the cost of supporting operations in Iraq and Afghanistan.","Social security":"Provided retirement benefits averaging $1,175 per month to 34.6 million retired workers in December 2010. Social Security also provided benefits to 2.9 million spouses and children of retired workers, 6.4 million surviving children and spouses of deceased workers, and 10.2 million disabled workers and their eligible dependents in December 2010.","Health":"Provides fund to programs that protect the health of all Americans and providing essential human services. The programs include biomedical research, training of primary care providers, Medicaid, and the Children\u2019s Health Insurance Program (CHIP).","Education, training, employment, and social services":"Combines three subfunctions of the education, training, employment, and social services function: elementary, secondary, and vocational education; higher education; and research and general educational aids.","Income security":"Provides benefits to recipients with limited income and assets; those programs include unemployment compensation, Supplemental Security Income, and the Supplemental Nutrition Assistance Program (SNAP, formerly known as Food Stamps.)","Medicare":"Federal health insurance program for elderly and disabled Americans, providing coverage for acute and post-acute care.","Net interest":"The regular interest payments on the money that the federal government has borrowed to finance past deficits.","Veterans benefits and services":"Veterans receive an array of benefits and services for their dedicated service defending the United States. Fund goes to programs that provides medical care for veterans and combats veteran homelessness.","Transportation":"Supports well-functioning transportation system by road, transit, aviation, rail or waterway. The transportation system is built to move people and goods safely, facilitate commerce, attract and retain businesses, and support jobs.","International affairs":"Advances the national security interests of the United States through global engagement, partnership, and the promotion of universal values. By investing in civilian diplomatic and development power alongside defense, the fund is used to take an integrated approach to solving global problems and support the mutually reinforcing elements of the President\u2019s national security strategy.","Administration of justice":"Enforces the law and defending the interests of the United States; ensuring public safety against foreign and domestic threats; providing Federal leadership in preventing and controlling crime; punishing those guilty of unlawful behavior; and ensuring fair and impartial administration of justice for all Americans.","Natural resources and environment":"Protects human health and safeguard the natural environment. The fund is used to develop programs that reduce greenhouse gases and improve fuel economy for cars and trucks, promote chemical safety and integrate sustainable community development with environmental remediation activities.","General science, space, and technology":"Supports the full breadth of science and technology research. The fund goes into programs that help drive future economic growth and global competitiveness, improve the Nation's aviation and space capabilities, and strengthen our competitive edge in human spaceflight and scientific research.","General government":"Funds the central management and policy responsibilities of both the legislative and executive branches of the federal government. Among the agencies it funds are the General Services Administration and the Internal Revenue Service.","Agriculture":"Focuses on further developing alternative markets for agricultural products and activities, providing financing needed to help expand job opportunities and improve housing, utilities, and infrastructure in rural America. The fund is also used to enhance food safety, support international agricultural and economic development, and protect America\u2019s public and private lands.","Community and regional development":"Covers federal programs that promote the economic viability of communities, encourage rural development, and assist in the nation's preparation for and response to natural and man-made disasters. The function includes spending for flood insurance, homeland security grants for state and local governments' first responders, the Community Development Block Grant program, disaster relief, credit assistance to help develop rural communities, and federal support for certain programs to assist Native Americans.","Energy":"Advances the national, economic, and energy security of the United States; promoting scientific and technological innovation in support of that mission; and ensuring the environmental cleanup of the national nuclear weapons complex. It facilitates some of the President\u2019s highest priorities: clean energy and research and development (R&D), which are critical to the Nation\u2019s economic competitiveness and national security.","Excise taxes":"Taxes levied when purchases are made on a specific good, such as gasoline. Excise taxes are often included in the price of the product. There are also excise taxes on activities, such as on wagering or on highway usage by trucks. Excise Tax has several general excise tax programs. One of the major components of the excise program is motor fuel.","Estate and gift taxes":"Taxes levied on large transfers of wealth between individuals. Gift taxes are imposed on transfers made during an individual's lifetime, and estate taxes are imposed on transfers made at the time of death. Although gift taxes and estate taxes are paid separately, they are a unified tax in the sense that a single graduated rate schedule applies to the cumulative total of taxable transfers made through gifts and estates.","Customs duties":"Taxes levied on imports (and, sometimes, on exports) by the customs authorities of the country to raise state revenue, and/or to protect domestic industries from more efficient or predatory competitors from abroad. Customs duty is based generally on the value of goods or upon the weight, dimensions, or some other criteria of the item (such as the size of the engine, in case of automobiles).","Misc. governmental receipts":"Other sources of federal revenues.","Corporation income taxes":"Taxes levied on corporations' profits. Because corporations are legal entities separate from their owners, they may be taxed as if they were persons. A corporate tax, then, is the equivalent of the income tax for natural persons.","Social insurance taxes and contributions":"Taxes levied equally on employers and employees, used to pay for Social Security programs, the comprehensive federal program of benefits providing workers and their dependents with retirement income, disability income, and other payments.","Individual income taxes":"Taxes levied on the worldwide income of U.S. citizens and resident aliens and on certain types of U.S. source income of nonresidents. For a nonitemizer, \u201ctax table income\u201d is adjusted gross income less $3,000 for each personal exemption and the standard deduction. If a taxpayer itemizes, tax table income is adjusted gross income minus total itemized deductions and personal exemptions. In addition, individuals may also be subject to the alternative minimum tax."}
        },
        total_expense_0_expense_bars = new SliderChart(expense_bars_config);


    /*
    var tmpColor = expense_bars.lessColor;
    expense_bars.lessColor = expense_bars.moreColor;
    expense_bars.moreColor = tmpColor;
    expense_bars.oddColor = '#d00';
    expense_bars.evenColor = '#d00';
    */
    total_expense_0_expense_bars.render();
    $('#total_expense_0').text('$ -' + $.formatNumber(Math.round((pv.sum(pv.values(total_expense_0_expense_bars.proposal).map(function(d) { return d[0]; })) * total_expense_0_expense_bars.totals[0] * 1000) / 1000000) * 1000000, {format:"#,###.00", locale:"us"}));

    $(document).bind('reset_category', function(event, category, state) {
      total_expense_0_expense_bars.resetCategory(category, state);
    });


    /*
    var updateExpenseVis = function() {
      init_data(expense_bars_config.states);

      expense_bars_config.data = data.expense;
      expense_bars_config.proposal = proposal_data.expense;

      $('#expense-bars').find('span').remove();
      expense_bars = new SliderChart(expense_bars_config);
      var tmpColor = expense_bars.lessColor;
      expense_bars.lessColor = expense_bars.moreColor;
      expense_bars.moreColor = tmpColor;
      expense_bars.oddColor = '#d00';
      expense_bars.evenColor = '#d00';
      expense_bars.render();
      $('#total_expense_0').text('$ -' + $.formatNumber(pv.sum(pv.values(expense_bars.proposal).map(function(d) { return d[0]; })) * expense_bars.totals[0], {format:"#,###.00", locale:"us"}));
      $(document).find('span').last().appendTo($('#expense-bars'));
    };

    $(document).bind('select_state', function(e, state_code) {
      expense_bars_config.states = $.grep(expense_bars_config.states, function(v) { return v != expense_bars_config.states[0]; });
      expense_bars_config.states = $.grep(expense_bars_config.states, function(v) { return v != state_code; });
      expense_bars_config.states.unshift(state_code);
      updateExpenseVis();
    })

    var expenseAddRemoveHandler = function(e, state_code) {
      expense_bars_config.states = $.grep(expense_bars_config.states, function(v) { return v != state_code; });
      if (e.type == 'add_state') {
        expense_bars_config.states.push(state_code);
      }
      updateExpenseVis();
    };
    $(document).bind('add_state', expenseAddRemoveHandler);
    $(document).bind('remove_state', expenseAddRemoveHandler);
    */
  </script>
  <span style="display: inline-block;">
  <svg font-size="10px" font-family="sans-serif" fill="none" stroke="none" stroke-width="1.5" width="497.5" height="425">
  <rect pointer-events="all" x="232.5" y="25" width="155" height="400" fill-opacity="0"></rect>
  <g transform="translate(232.5,25)"><g>
  <rect width="57.47159781262517" height="18" fill="rgb(255,110,97)"></rect>
  </g><g>
  </g><g>
  <text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Social security</text></g><g><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,20)"><rect width="41.2375326170569" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,20)"></g><g transform="translate(0,20)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Medicare</text></g><g transform="translate(0,20)"></g><g transform="translate(0,40)"><rect width="33.33807778487239" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,40)"></g><g transform="translate(0,40)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">National defense</text></g><g transform="translate(0,40)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,60)"><rect width="29.581951978977603" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,60)"></g><g transform="translate(0,60)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Health</text></g><g transform="translate(0,60)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,80)"><rect width="27.100017261692283" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,80)"></g><g transform="translate(0,80)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Net interest</text></g><g transform="translate(0,80)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,100)"><rect width="26.29537436923598" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,100)"></g><g transform="translate(0,100)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Income security</text></g><g transform="translate(0,100)"></g><g transform="translate(0,120)"><rect width="10.037099231268131" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,120)"></g><g transform="translate(0,120)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Education, training, employmen...</text></g><g transform="translate(0,120)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,140)"><rect width="8.01546513557132" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,140)"></g><g transform="translate(0,140)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Transportation</text></g><g transform="translate(0,140)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,160)"><rect width="5.178969057997611" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,160)"></g><g transform="translate(0,160)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Administration of justice</text></g><g transform="translate(0,160)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,180)"><rect width="4.97047781369774" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,180)"></g><g transform="translate(0,180)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Veterans benefits and services</text></g><g transform="translate(0,180)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,200)"><rect width="4.845204349946455" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,200)"></g><g transform="translate(0,200)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">International affairs</text></g><g transform="translate(0,200)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,220)"><rect width="3.51290939957801" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,220)"></g><g transform="translate(0,220)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Natural resources and environm...</text></g><g transform="translate(0,220)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,240)"><rect width="2.659233580862649" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,240)"></g><g transform="translate(0,240)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Agriculture</text></g><g transform="translate(0,240)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,260)"><rect width="2.587419410521588" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,260)"></g><g transform="translate(0,260)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">General science, space, and te...</text></g><g transform="translate(0,260)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,280)"><rect width="2.1748009458737014" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,280)"></g><g transform="translate(0,280)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">General government</text></g><g transform="translate(0,280)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,300)"><rect width="1.7243869166427852" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,300)"></g><g transform="translate(0,300)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Community and regional develop...</text></g><g transform="translate(0,300)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,320)"><rect width="0.4347274412306414" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,320)"></g><g transform="translate(0,320)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Energy</text></g><g transform="translate(0,320)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,340)"><rect width="1e-10" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,340)"></g><g transform="translate(0,340)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Commerce and housing credit</text></g><g transform="translate(0,340)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,360)"><rect width="1e-10" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,360)"></g><g transform="translate(0,360)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Allowances</text></g><g transform="translate(0,360)"><rect pointer-events="all" cursor="pointer" x="-20" y="2" width="16" height="16" fill-opacity="0"></rect><image preserveAspectRatio="none" cursor="pointer" x="-20" y="2" width="16" height="16" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="/images/annotation-icon.png"></image><rect pointer-events="stroke" cursor="pointer" x="-20" y="2" width="16" height="16" stroke-opacity="0"></rect></g><g transform="translate(0,380)"><rect width="1e-10" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,380)"></g><g transform="translate(0,380)"><text pointer-events="all" cursor="pointer" x="-25" dy=".35em" transform="translate(0,9)" fill="rgb(0,0,0)" text-anchor="end" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">Undistributed offsetting recei...</text></g><g transform="translate(0,380)"></g></g><g transform="translate(232.5,25)"><g><rect cursor="pointer" width="57.47159781262517" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,20)"><rect cursor="pointer" width="41.2375326170569" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,40)"><rect cursor="pointer" width="33.33807778487239" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,60)"><rect cursor="pointer" width="29.581951978977603" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,80)"><rect cursor="pointer" width="27.100017261692283" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,100)"><rect cursor="pointer" width="26.29537436923598" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,120)"><rect cursor="pointer" width="10.037099231268131" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,140)"><rect cursor="pointer" width="8.01546513557132" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,160)"><rect cursor="pointer" width="5.178969057997611" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,180)"><rect cursor="pointer" width="4.97047781369774" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,200)"><rect cursor="pointer" width="4.845204349946455" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,220)"><rect cursor="pointer" width="3.51290939957801" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,240)"><rect cursor="pointer" width="2.659233580862649" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,260)"><rect cursor="pointer" width="2.587419410521588" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,280)"><rect cursor="pointer" width="2.1748009458737014" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,300)"><rect cursor="pointer" width="1.7243869166427852" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,320)"><rect cursor="pointer" width="0.4347274412306414" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,340)"><rect cursor="pointer" width="1e-10" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,360)"><rect cursor="pointer" width="1e-10" height="18" fill="rgb(255,110,97)"></rect></g><g transform="translate(0,380)"><rect cursor="pointer" width="1e-10" height="18" fill="rgb(255,110,97)"></rect></g></g><g transform="translate(232.5,25)"><g><rect cursor="pointer" x="42.47159781262517" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g><rect cursor="pointer" x="57.47159781262517" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="58.47159781262517" cy="9" r="4"></circle></g><g><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(59.47159781262517,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$11,062,300m</text></g><g transform="translate(0,20)"><rect cursor="pointer" x="26.2375326170569" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,20)"><rect cursor="pointer" x="41.2375326170569" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,20)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="42.2375326170569" cy="9" r="4"></circle></g><g transform="translate(0,20)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(43.2375326170569,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$7,937,520m</text></g><g transform="translate(0,40)"><rect cursor="pointer" x="18.33807778487239" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,40)"><rect cursor="pointer" x="33.33807778487239" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,40)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="34.33807778487239" cy="9" r="4"></circle></g><g transform="translate(0,40)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(35.33807778487239,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$6,417,010m</text></g><g transform="translate(0,60)"><rect cursor="pointer" x="14.581951978977603" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,60)"><rect cursor="pointer" x="29.581951978977603" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,60)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="30.581951978977603" cy="9" r="4"></circle></g><g transform="translate(0,60)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(31.581951978977603,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$5,694,020m</text></g><g transform="translate(0,80)"><rect cursor="pointer" x="12.100017261692283" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,80)"><rect cursor="pointer" x="27.100017261692283" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,80)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="28.100017261692283" cy="9" r="4"></circle></g><g transform="translate(0,80)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(29.100017261692283,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$5,216,290m</text></g><g transform="translate(0,100)"><rect cursor="pointer" x="11.29537436923598" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,100)"><rect cursor="pointer" x="26.29537436923598" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,100)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="27.29537436923598" cy="9" r="4"></circle></g><g transform="translate(0,100)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(28.29537436923598,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$5,061,410m</text></g><g transform="translate(0,120)"><rect cursor="pointer" x="-4.962900768731869" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,120)"><rect cursor="pointer" x="10.037099231268131" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,120)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="11.037099231268131" cy="9" r="4"></circle></g><g transform="translate(0,120)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(12.037099231268131,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$1,931,970m</text></g><g transform="translate(0,140)"><rect cursor="pointer" x="-6.98453486442868" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,140)"><rect cursor="pointer" x="8.01546513557132" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,140)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="9.01546513557132" cy="9" r="4"></circle></g><g transform="translate(0,140)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(10.01546513557132,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$1,542,840m</text></g><g transform="translate(0,160)"><rect cursor="pointer" x="-9.82103094200239" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,160)"><rect cursor="pointer" x="5.178969057997611" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,160)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="6.178969057997611" cy="9" r="4"></circle></g><g transform="translate(0,160)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(7.178969057997611,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$996,863m</text></g><g transform="translate(0,180)"><rect cursor="pointer" x="-10.029522186302259" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,180)"><rect cursor="pointer" x="4.97047781369774" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,180)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="5.97047781369774" cy="9" r="4"></circle></g><g transform="translate(0,180)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(6.97047781369774,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$956,732m</text></g><g transform="translate(0,200)"><rect cursor="pointer" x="-10.154795650053545" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,200)"><rect cursor="pointer" x="4.845204349946455" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,200)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="5.845204349946455" cy="9" r="4"></circle></g><g transform="translate(0,200)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(6.845204349946455,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$932,619m</text></g><g transform="translate(0,220)"><rect cursor="pointer" x="-11.48709060042199" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,220)"><rect cursor="pointer" x="3.51290939957801" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,220)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="4.51290939957801" cy="9" r="4"></circle></g><g transform="translate(0,220)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(5.51290939957801,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$676,175m</text></g><g transform="translate(0,240)"><rect cursor="pointer" x="-12.340766419137351" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,240)"><rect cursor="pointer" x="2.659233580862649" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,240)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="3.659233580862649" cy="9" r="4"></circle></g><g transform="translate(0,240)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(4.659233580862649,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$511,857m</text></g><g transform="translate(0,260)"><rect cursor="pointer" x="-12.412580589478413" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,260)"><rect cursor="pointer" x="2.587419410521588" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,260)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="3.587419410521588" cy="9" r="4"></circle></g><g transform="translate(0,260)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(4.587419410521588,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$498,034m</text></g><g transform="translate(0,280)"><rect cursor="pointer" x="-12.825199054126298" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,280)"><rect cursor="pointer" x="2.1748009458737014" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,280)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="3.1748009458737014" cy="9" r="4"></circle></g><g transform="translate(0,280)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(4.174800945873701,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$418,612m</text></g><g transform="translate(0,300)"><rect cursor="pointer" x="-13.275613083357214" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,300)"><rect cursor="pointer" x="1.7243869166427852" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,300)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="2.724386916642785" cy="9" r="4"></circle></g><g transform="translate(0,300)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(3.724386916642785,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$331,915m</text></g><g transform="translate(0,320)"><rect cursor="pointer" x="-14.565272558769358" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,320)"><rect cursor="pointer" x="0.4347274412306414" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,320)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="1.4347274412306414" cy="9" r="4"></circle></g><g transform="translate(0,320)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(2.4347274412306414,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$83,678m</text></g><g transform="translate(0,340)"><rect cursor="pointer" x="-15.165715497145117" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,340)"><rect cursor="pointer" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,340)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="1" cy="9" r="4"></circle></g><g transform="translate(0,340)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(2,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$-31,897m</text></g><g transform="translate(0,360)"><rect cursor="pointer" x="-20.07807698044401" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,360)"><rect cursor="pointer" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,360)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="1" cy="9" r="4"></circle></g><g transform="translate(0,360)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(2,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$-977,443m</text></g><g transform="translate(0,380)"><rect cursor="pointer" x="-28.42399743923633" width="30" height="18" fill="rgb(0,0,0)" fill-opacity="0.001"></rect></g><g transform="translate(0,380)"><rect cursor="pointer" width="2" height="18" fill="rgb(0,0,0)"></rect></g><g transform="translate(0,380)"><circle cursor="pointer" fill="rgb(0,0,0)" stroke="rgb(0,0,0)" stroke-width="0" cx="1" cy="9" r="4"></circle></g><g transform="translate(0,380)"><text pointer-events="all" cursor="pointer" x="5" dy=".35em" transform="translate(2,9)" fill="rgb(0,0,0)" fill-opacity="0.25" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 12px; line-height: normal; font-family: sans-serif;">$-2,583,890m</text></g></g><g transform="translate(232.5,25)"><line shape-rendering="crispEdges" x1="0" y1="0" x2="0" y2="400" stroke="rgb(0,0,0)" stroke-width="1"></line><line shape-rendering="crispEdges" x1="51.952666093511446" y1="0" x2="51.952666093511446" y2="400" stroke="rgb(255,255,255)" stroke-opacity="0.3" stroke-width="1"></line><line shape-rendering="crispEdges" x1="103.90533218702289" y1="0" x2="103.90533218702289" y2="400" stroke="rgb(255,255,255)" stroke-opacity="0.3" stroke-width="1"></line></g><g transform="translate(232.5,25)"><line shape-rendering="crispEdges" x1="0" y1="-8" x2="0" y2="-3" stroke="rgb(0,0,0)" stroke-width="1"></line><line shape-rendering="crispEdges" x1="51.952666093511446" y1="-8" x2="51.952666093511446" y2="-3" stroke="rgb(0,0,0)" stroke-width="1"></line><line shape-rendering="crispEdges" x1="103.90533218702289" y1="-8" x2="103.90533218702289" y2="-3" stroke="rgb(0,0,0)" stroke-width="1"></line></g><g transform="translate(232.5,25)"><text pointer-events="none" y="-3" transform="translate(0,-8)" fill="rgb(0,0,0)" text-anchor="middle" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 10px; line-height: normal; font-family: sans-serif;">$0b</text><text pointer-events="none" y="-3" transform="translate(51.952666093511446,-8)" fill="rgb(0,0,0)" text-anchor="middle" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 10px; line-height: normal; font-family: sans-serif;">$10t</text><text pointer-events="none" y="-3" transform="translate(103.90533218702289,-8)" fill="rgb(0,0,0)" text-anchor="middle" style="font-style: normal; font-variant: normal; font-weight: bold; font-stretch: normal; font-size: 10px; line-height: normal; font-family: sans-serif;">$20t</text></g><rect pointer-events="stroke" x="232.5" y="25" width="155" height="400" stroke-opacity="0"></rect></svg></span>
</div> 
</div>
</tr></table>

<script type="text/javascript">
  $(".vis").mouseover(function (evt) {
    mouse_x = evt.pageX;
    mouse_y = evt.pageY;
  });
  $("#annotation-popup").mouseover(function (evt) {
    popup_active = true;
  });
  $("#annotation-popup").mouseout(function (evt) {
    popup_active = false;
    setTimeout(function() {
      if (!popup_active) $("#annotation-popup").hide();
    }, 1000);
  });
</script>

<script type="text/javascript">
  $('#annotation-2717 .long_desc .description').condense();
</script>
<!--

      <div id="annotation-2716" class="revenue-increase annotation miscellaneous_receipts" style="display: block; ">
  <div class="user">
    <span class="short_desc">
      <span class="annotation-id" style="display:none;">2716</span>
      Increase
      <span class="category">Miscellaneous receipts</span>
      to <span class="new_val">$1,073,370</span> Million
        <span class="percent-change">(+0.0%)</span>
    </span>
  </div>
  <br class="clearfix"/>
    <select class="backers-select" style="margin-bottom:8px;margin-left:20px;" name="backer">
      <option value="">Used by 2 other budgets...</option>
        <option value="http://widescope-lb-987626777.us-west-1.elb.amazonaws.com/budgets/869/edit">Federal 2014-2023, by Ryan Landron</option>
        <option value="http://widescope-lb-987626777.us-west-1.elb.amazonaws.com/budgets/877/edit">Federal 2014-2023, by kuerondu</option>
    </select>
    <div class="clearfix"></div>
  <blockquote class="long_desc">
    <div class="description">
      A short term increase in earnings is projected as the Federal Reserve increases its holdings of Treasury and mortgage-backed securities. Beyond 2015, remittances are projected to decline to zero between 2018-2020 as the economy grows to near its potential, which would generate capital losses as interest rates rise.
    </div>
      <strong>Reference: </strong><a href="http://widescope.stanford.edu/pdf/43907-BudgetOutlook.pdf#page=22" target="_blank">http://widescope.stanford.e...</a><br/>
    &mdash;<span class="pic"><img src="/images/default-profile.png"></span><a class="username" target="_blank" href=''>widescope</a>
  </blockquote>
  <span class="goto">
    <img alt="Small-spinner" class="spinner" src="/images/small-spinner.gif?1391657749" style="display:none;margin-bottom:-5px;" />
  </span>
  <div class="comments" style="display:none;"></div>
</div>
<script type="text/javascript">
  $('#annotation-2716 .long_desc .description').condense();
</script>
-->

<script type="text/javascript">
  var do_walkthrough = window.location.hash.indexOf("walkthrough") != -1;
  var advanceWalkthrough = function(src) {
    if (!do_walkthrough) return;
    if (phase == "expense" && src == "radios") {
      $("#walkthrough-select").slideUp("slow");
      $("#walkthrough-expense").slideDown("slow");
      phase = "select-expense";
    } else if (phase == "select-expense" && src == "bars") {
      $("#walkthrough-expense").slideUp("slow");
      $("#walkthrough-select").slideDown("slow");
      phase = "revenue";
    } else if (phase == "revenue" && src == "radios") {
      $("#revenue-bars").slideDown("slow");
      $("#walkthrough-select").slideUp("slow");
      $("#walkthrough-revenue").slideDown("slow");
      phase = "select-revenue";
    } else if (phase == "select-revenue" && src == "bars") {
      $("#walkthrough-revenue").slideUp("slow");
      $("#walkthrough-select").slideDown("slow");
      phase = "expense";
    }
  }
  if (do_walkthrough) {
    $(".walkthrough").append($("<a/>")
      .text("(Quit tutorial)")
      .attr("class", "cancel-walkthrough")
      .css("cursor", "pointer")
      .css("float", "right")
      .css("font-size", "75%")
      .css("padding-top", "5px")
    );
    $(".cancel-walkthrough").click(function() {
      $(".walkthrough").slideUp("slow");
      $("#custom-change").slideDown("slow");
      $("#revenue-bars").slideDown("slow");
    });
    var phase = "revenue";
    $("#custom-change").hide();
    //$("#revenue-bars").hide();
    advanceWalkthrough("radios");
  }
</script>